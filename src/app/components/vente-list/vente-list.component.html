<div class="container">
  <div class="ventes-list-card">
    <h2>Liste des ventes</h2>

    <!-- Vérifier si le tableau des ventes est vide -->
    <div *ngIf="ventes.length === 0" class="no-products-message">
      <i class="fas fa-exclamation-circle"></i> Aucune vente à afficher
    </div>

    <!-- Table des ventes avec les classes Bootstrap -->
    <table *ngIf="ventes.length > 0" class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Produit</th>
          <th>Quantité</th>
          <th>Date</th>
          <th>Client</th>
          <th>Actions</th>
          <th>Prix Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let vente of filteredVentes">
          <td>{{ vente.produitName }}</td>
          <td>{{ vente.quantite }}</td>
          <td>{{ vente.date }}</td>
          <td>{{ vente.clientName }}</td>
          <td>
            <!-- Bouton pour supprimer -->
            <button (click)="deleteVente(vente.id)" class="btn btn-danger btn-sm delete">
              <i class="fas fa-trash"></i> Delete
            </button>
            
            <!-- Bouton pour modifier -->
            <a [routerLink]="['/vente-edit', vente.id]" class="btn btn-warning btn-sm edit">
              <i class="fas fa-edit"></i> Edit
            </a>
            
            <!-- Bouton pour générer une facture -->
            <button style="margin-left: 5px;" (click)="generateInvoice(vente)" class="btn btn-success btn-sm invoice">
              <i class="fas fa-file-pdf"></i> Facture
            </button>
          </td>
          <td>{{ vente.prixTotal }} $</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="5" class="text-right"><strong>Chiffre d'affaires total mois Novembre:</strong></td>
          <td><strong>{{ chiffreAffaire }} $</strong></td>
        </tr>
      </tfoot>
    </table>

    <!-- Lien pour ajouter une nouvelle vente -->
    <a routerLink="/vente-add" class="btn btn-primary mb-3 wbtn">Add Vente</a>
  </div>
</div>
